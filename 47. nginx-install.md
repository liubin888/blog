
### Nginx安装使用


#### For RHEL/CentOS
```sh
$ sudo yum install yum-utils

#手动写入rpm源
# 在  /etc/yum.repos.d/nginx.repo 写入如下内容

[nginx-stable]
name=nginx stable repo
baseurl=http://nginx.org/packages/centos/$releasever/$basearch/
gpgcheck=1
enabled=1
gpgkey=https://nginx.org/keys/nginx_signing.key

[nginx-mainline]
name=nginx mainline repo
baseurl=http://nginx.org/packages/mainline/centos/$releasever/$basearch/
gpgcheck=1
enabled=0
gpgkey=https://nginx.org/keys/nginx_signing.key

$ sudo yum-config-manager --enable nginx-mainline
$ sudo yum install nginx

```
>其他平台 直接 访问 [http://nginx.org/en/linux_packages.html#stable](http://nginx.org/en/linux_packages.html#stable)


>nginx.pid 失败问题
执行
sudo nginx -c /usr/local/etc/nginx/nginx.conf
sudo nginx -s reload #重启
sudo nginx -t #测试配置文件

#### nginx 转发node 配置
```sh
server {
    listen       80 default_server;
    listen       [::]:80 default_server;
    server_name  chuchur.com www.chuchur.com;
    location / {
        proxy_pass http://127.0.0.1:7001;
        proxy_redirect  off;
        proxy_set_header        $Host  sync;
        proxy_set_header        X-Real-IP       $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_send_timeout      300;
        proxy_read_timeout      300;
    }
}
```

#### nginx for Vue 
```sh
server {
    listen       80 default_server;
    listen       [::]:80 default_server;
    server_name  chuchur.com www.chuchur.com;
    location / {
        root ~/www/html;
        index index.html;
        try_files $uri $uri/ /index.html;
    }
}

```
>其他服务器vue部署 请参阅 [Vue部署](https://router.vuejs.org/zh/guide/essentials/history-mode.html#后端配置例子)

nginx 如何开启https 和http2 [(传送门)](//chuchur.com/article/web-https-http2)

ningx css 字体的支持，需要修改mime.types
加入以下代码
```sh
application/octet-stream eot;
application/font-sfnt ttf;
application/font-otf otf;
application/font-woff2 woff2;
application/font-woff woff;
```
>如果是跨域的话，还需要做跨域配置
```sh
location ~* .(eot|ttf|woff|svg|otf)$ {
  add_header Access-Control-Allow-Origin *;
}
```